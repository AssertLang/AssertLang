tool:
  id: auth
  name: Auth Tool
  summary: Produce authentication headers for API calls (API key, JWT).
  category: specialized
  version: v1

envelope:
  capabilities: false
  health: false
  streaming: false
  long_running: false

schema:
  shared_fields:
    - lang
  request:
    type: object
    properties:
      type:
        type: string
        enum: [apiKey, jwt]
      token:
        type: string
      header:
        type: string
        default: Authorization
      prefix:
        type: string
        default: Bearer 
    required: [type, token]
    additionalProperties: false
  response:
    type: object
    properties:
      headers:
        type: object
        additionalProperties:
          type: string
    required: [headers]

operations:
  - id: header
    summary: Produce a ready-to-use Authorization header.
    example:
      request:
        type: apiKey
        token: secret
      response:
        headers:
          Authorization: "Bearer secret"

adapters:
  - language: python
    template: auth_header
    deps:
      python:
        requirements: []
  - language: node
    template: auth_header
    deps:
      node:
        packages: []
  - language: go
    template: auth_header
    deps:
      go:
        modules: []
  - language: rust
    template: auth_header
    deps:
      rust:
        crates: []
  - language: dotnet
    template: auth_header
    deps:
      dotnet:
        packages: []

policy:
  network: deny
  filesystem: deny
  secrets: allow

telemetry:
  emit:
    - channel: tool.auth
      fields: [type]

testing:
  cases:
    - description: API key header
      request:
        type: apiKey
        token: abc
      expect:
        data.headers.Authorization: "Bearer abc"

marketplace:
  tags: [auth, http]
  maturity: beta
